{#
* Projet Nuit de lâ€™Info â€” 2025
* Ce programme est publiÃ© sous licence GNU AGPLv3.
* Vous pouvez obtenir une copie de la licence Ã  :
* https://www.gnu.org/licenses/agpl-3.0.html
#}
{% extends 'retro_base.html.twig' %}

{% block title %}Accueil{% endblock %}

{% block header_subtitle %}PULGA - MODE RETRO GAMING ACTIVÃ‰{% endblock %}

{% block main_content %}
    <div class="retro-card retro-float">
        <h2 class="retro-subtitle">ğŸ® NIRD â€” Insert Coin for a Better Digital World </h2>
        <p class="retro-text retro-mb-2">
            Welcome Player 1 !
            Tu viens de dÃ©marquer dans la Zone NIRD, un niveau spÃ©cial oÃ¹ le numÃ©rique scolaire devient plus juste, plus
            Ã©colo et beaucoup plus fun.

            Ici, pas question de gaspiller des ressources ou de laisser certains Ã©lÃ¨ves hors-jeu :

            ğŸŸ¦ Inclusif â€” Tout le monde a une manette. Et elle fonctionne !

            ğŸŸ© Responsable â€” On joue fair-play : logiciels libres, transparence, respect des donnÃ©es.

            ğŸŸ§ Durable â€” On rÃ©pare, on reconditionne, on optimiseâ€¦ Game Over pour lâ€™obsolescence rapide.

            PrÃªtÂ·e Ã  explorer lâ€™univers NIRD ?
            Collecte des power-ups ğŸ’¾, dÃ©couvre des quÃªtes pÃ©dagogiques, et rejoins la team qui construit un numÃ©rique
            scolaire plus cool et plus durable.

            ğŸ‘‰ Press START to begin the adventure.
        </p>

        <div class="retro-progress-bar retro-mb-1">
            <div class="retro-progress-fill" style="width: 85%"></div>
        </div>
        <p class="retro-text retro-center">PIXEL POWER: 85%</p>
    </div>
    <div class="retro-card">
        <h2 class="retro-subtitle">ğŸ® TERMINAL INTERACTIF</h2>
        <p class="retro-text">
            Une console Linux rÃ©tro avec systÃ¨me de commandes personnalisables!
        </p>
    </div>

    {# Container pour le terminal #}
    <div id="terminal-container"></div>

    <div class="retro-card retro-mt-2">
        <h3 class="retro-subtitle">ğŸ“– GUIDE D'UTILISATION</h3>
        <div class="retro-text">
            <p><strong>Commandes disponibles:</strong></p>
            <ul style="list-style: none; padding-left: 20px;">
                <li>â€¢ <span style="color: #00ffff;">help</span> - Affiche l'aide</li>
                <li>â€¢ <span style="color: #00ffff;">clear</span> - Efface l'Ã©cran</li>
                <li>â€¢ <span style="color: #00ffff;">echo [texte]</span> - Affiche du texte</li>
                <li>â€¢ <span style="color: #00ffff;">print [texte]</span> - Affiche du texte stylisÃ©</li>
                <li>â€¢ <span style="color: #00ffff;">ls</span> - Liste les fichiers</li>
                <li>â€¢ <span style="color: #00ffff;">snake</span> - Lance le jeu Snake</li>
                <li>â€¢ <span style="color: #00ffff;">tetris</span> - Lance le jeu Tetris</li>
                <li>â€¢ <span style="color: #00ffff;">matrix</span> - Effet Matrix</li>
                <li>â€¢ <span style="color: #00ffff;">hack</span> - Mode hacker</li>
                <li>â€¢ <span style="color: #00ffff;">coffee</span> - PrÃ©pare un cafÃ©</li>
                <li>â€¢ <span style="color: #00ffff;">pulga</span> - Affiche le drapeau PULGA</li>
                <li>â€¢ <span style="color: #00ffff;">rien</span> - Commande secrÃ¨te...</li>
            </ul>
            <p style="margin-top: 15px;"><strong>Raccourcis clavier:</strong></p>
            <ul style="list-style: none; padding-left: 20px;">
                <li>â€¢ <span style="color: #ffff00;">â†‘â†“</span> - Navigation dans l'historique</li>
                <li>â€¢ <span style="color: #ffff00;">TAB</span> - AutocomplÃ©tion</li>
                <li>â€¢ <span style="color: #ffff00;">Ctrl+L</span> - Effacer l'Ã©cran</li>
                <li>â€¢ <span style="color: #ffff00;">Ctrl+C</span> - Annuler</li>
            </ul>
        </div>
    </div>

    <div class="retro-card retro-mt-2">
        <h3 class="retro-subtitle">âš™ï¸ PERSONNALISATION</h3>
        <div class="retro-text">
            <p>Vous pouvez facilement ajouter vos propres commandes:</p>
            <div
                style="background: #000; border: 2px solid #00ff41; padding: 15px; margin-top: 10px; font-family: 'Courier New', monospace; font-size: 12px;">
                // Ajouter une nouvelle commande<br>
                terminal.addCommand('macommande', function(args) {<br>
                &nbsp;&nbsp;this.print('Ma commande fonctionne!', 'success');<br>
                });<br>
                <br>
                // ExÃ©cuter une commande par code<br>
                terminal.execute('echo Bonjour!');
            </div>
        </div>
    </div>
{% endblock %}
{% block extra_content %}
    <div class="retro-card">
        <h2 class="retro-subtitle">ğŸ® LE VOL DE DONNEES</h2>
        <p class="retro-text retro-mb-2">
            Agent {{ random(100, 999) }}, Vos donnÃ©es sont en danger !
            <br><br>
            Aujourdâ€™hui, les Ã©coles utilisent beaucoup dâ€™outils numÃ©riques pour travailler. Mais quand ces outils
            appartiennent Ã  de grandes entreprises, les informations des Ã©lÃ¨ves et des enseignants peuvent Ãªtre stockÃ©es
            trÃ¨s loin, parfois mÃªme hors dâ€™Europe.

            Cela peut devenir dangereux : des pirates peuvent voler ces donnÃ©es, les entreprises peuvent les utiliser
            sans demander vraiment lâ€™avis, et personne ne sait toujours oÃ¹ elles sont gardÃ©es.

            Avec la dÃ©marche NIRD, les Ã©tablissements peuvent choisir des solutions plus sÃ»res, plus simples et plus
            transparentes. Lâ€™objectif : garder le contrÃ´le sur ses donnÃ©es et protÃ©ger tout le monde.
        </p>
        <button class="retro-button" onclick="window.location.href='{{ path('app_virus') }}';" type="button">
            EN SAVOIR PLUS
        </button>
        <button class="retro-button secondary" onclick="alert('ğŸ‘¾ Vous ne pouvez pas refuser!')">
            NE PAS SAVOIR (INCULTE!)
        </button>
    </div>

    <div class="retro-card">
        <h2 class="retro-subtitle">ğŸ® PASSER VERS LA LUMIERE</h2>
        <p class="retro-text retro-mb-2">
            Pour nous sauver, des griffes des ces entreprises, Les logicielle et systeme Open Source sont la.
            Pour nous sauver des griffes de ces entreprises, les logiciels et systÃ¨mes Open Source sont lÃ .

            Ces outils sont diffÃ©rents : ils sont libres, gratuits et souvent dÃ©veloppÃ©s par des communautÃ©s de
            personnes passionnÃ©es. Contrairement aux services des grandes entreprises, lâ€™open source permet de savoir
            exactement ce que fait un logiciel, oÃ¹ sont stockÃ©es les donnÃ©es et qui peut y accÃ©der.

            Avec des alternatives open source, les Ã©coles peuvent continuer Ã  travailler avec des outils numÃ©riques tout
            en gardant le contrÃ´le : </p>

        <ul class="retro-text retro-mb-2">
            <li> SystÃ¨mes dâ€™exploitation : <a href="https://www.linux.org/">Linux (Ubuntu, Debian)</a></li>

            <li>Bureautique : <a href="https://fr.libreoffice.org/about-us/who-are-we/">LibreOffice</a></li>

            <li>Cloud et stockage : <a href="https://nextcloud.com/about/">Nextcloud</a></li>

            <li>Messagerie : <a href="https://www.thunderbird.net/fr/about/">Thunderbird</a>, <a href="https://support.signal.org/hc/fr">Signal</a></li>

            <li>Recherche sur Internet : <a href="https://duckduckgo.com/app?origin=funnel_home_bing">DuckDuckGo</a></li>
        </ul>
        <p class="retro-text retro-mb-2"> En utilisant ces outils, les Ã©coles protÃ¨gent les donnÃ©es des Ã©lÃ¨ves et des enseignants et contribuent Ã  un
            environnement numÃ©rique plus sÃ»r et plus transparent.

        </p>
    </div>

    <div class="retro-card">
        <h2 class="retro-subtitle">ğŸ® DE CARTES MERE ET D'OS</h2>
        <p class="retro-text retro-mb-2">
            Pour nous Ã©quiper contre lâ€™ennemi, nous devons conquÃ©rir lâ€™obsolescence programmÃ©e.

            Aujourdâ€™hui, beaucoup dâ€™objets Ã©lectroniques et logiciels sont conÃ§us pour sâ€™user ou devenir inutilisables rapidement. Câ€™est ce quâ€™on appelle lâ€™obsolescence programmÃ©e. Cela signifie que certains appareils ou logiciels ne sont pas faits pour durer : ils tombent en panne, deviennent trop lents ou ne reÃ§oivent plus de mises Ã  jour. RÃ©sultat : il faut les remplacer souvent, ce qui coÃ»te de lâ€™argent et pollue la planÃ¨te.

            GrÃ¢ce Ã  la dÃ©marche NIRD, les Ã©coles et Ã©tablissements peuvent choisir des solutions plus durables et transparentes. Cela passe par des logiciels libres, des appareils rÃ©parables et des outils qui Ã©voluent sans obliger Ã  changer de matÃ©riel. Avec cette approche, il est possible de :</p>
        <ul class="retro-text retro-mb-2">
           <li> RÃ©parer plutÃ´t que jeter</li>

            <li> Utiliser des logiciels open source qui durent et restent sÃ»rs</li>

            <li> RÃ©duire les dÃ©chets Ã©lectroniques et protÃ©ger lâ€™environnement</li>
    </ul>
        <p class="retro-text retro-mb-2">

            En suivant NIRD, chacun garde le contrÃ´le de ses outils numÃ©riques tout en faisant des choix responsables et durables.
        </p>
        <button class="retro-button" onclick="window.location.href='https://www.youtube.com/watch?v=S6GLqkhykmA';">
            VOIR LA VIDEO
        </button>
        <button class="retro-button secondary" onclick="alert('ğŸ‘¾ Je vois pas pourquoi vous cliquÃ©!')">
            NE PAS VOIR LA VIDEO
        </button>
    </div>

{% endblock %}

{% block footer %}
    <footer class="retro-border retro-mt-3">
        <div class="retro-center">
            <p class="retro-text">
                {% block footer_text %}
                    <span class="retro-blink">â˜…</span> NUIT DE L'INFO 2025 <span class="retro-blink">â˜…</span>
                    <br>
                    Â© 2025 â€” PULGA
                    Code source publiÃ© sous licence
                    <a href="https://www.gnu.org/licenses/agpl-3.0.html" target="_blank">AGPLv3</a>
                {% endblock %}
            </p>
            <div class="retro-mt-1">
                <span class="retro-badge">SCORE: 9999</span>
                <span class="retro-badge">LEVEL: MAX</span>
            </div>
        </div>
    </footer>
{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    {# CSS pour les jeux #}
    <link rel="stylesheet" href="{{ asset('css/snake-game.css') }}">
    <link rel="stylesheet" href="{{ asset('css/tetris-game.css') }}">
{% endblock %}

{% block javascripts %}
    {# Inclusion du script de la console #}
    <script src="{{ asset('js/linux-terminal.js') }}"></script>
    {# Inclusion des jeux #}
    <script src="{{ asset('js/snake-game.js') }}"></script>
    <script src="{{ asset('js/tetris-game.js') }}"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Initialiser le terminal avec des options personnalisÃ©es
            const terminal = new LinuxTerminal('terminal-container', {
                username: 'hacker',
                hostname: 'nuit-de-linfo',
                welcomeMessage: `
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                            â•‘
â•‘     â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—    â•‘
â•‘     â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ•â•â–ˆâ–ˆâ•”â•â•â•    â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•    â•‘
â•‘     â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘       â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—      â•‘
â•‘     â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘       â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•      â•‘
â•‘     â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—    â•‘
â•‘     â•šâ•â•  â•šâ•â•â•â• â•šâ•â•â•â•â•â• â•šâ•â•   â•šâ•â•       â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•    â•‘
â•‘                                                            â•‘
â•‘         â–ˆâ–ˆâ•—         â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—       â•‘
â•‘         â–ˆâ–ˆâ•‘         â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—      â•‘
â•‘         â–ˆâ–ˆâ•‘         â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘      â•‘
â•‘         â–ˆâ–ˆâ•‘         â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘      â•‘
â•‘         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—    â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•      â•‘
â•‘         â•šâ•â•â•â•â•â•â•    â•šâ•â•â•šâ•â•â•šâ•â•  â•šâ•â•â•â•â•šâ•â•      â•šâ•â•â•â•â•â•       â•‘
â•‘                                                            â•‘
â•‘                   ğŸ® NUIT DE L'INFO 2025 ğŸ®                â•‘
â•‘                    Terminal Retro v1.0                     â•‘
â•‘                                                            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Bienvenue dans le terminal rÃ©tro gaming!
Tapez 'help' pour voir toutes les commandes disponibles.
Essayez 'rien' pour une surprise... ğŸ˜‰
`
            });

            // Rendre le terminal accessible globalement
            window.terminal = terminal;
            window.scrollTo(0, 0);

            // Ajouter des commandes personnalisÃ©es supplÃ©mentaires
            terminal.addCommand('bonjour', function (args) {
                const name = args[0] || 'visiteur';
                this.print(`ğŸ‘‹ Salut ${name}! Bienvenue Ã  la Nuit de l'Info!`, 'success');
            });

            terminal.addCommand('score', function (args) {
                this.print('ğŸ† TABLEAU DES SCORES ğŸ†', 'warning');
                this.print('â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€', 'output');
                this.print('1. Player1 .......... 9999', 'success');
                this.print('2. Player2 .......... 8888', 'output');
                this.print('3. YOU .............. 7777', 'warning');
                this.print('â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€', 'output');
            });

            terminal.addCommand('easteregg', function (args) {
                this.print('ğŸ¥š Vous avez trouvÃ© un Easter Egg!', 'success');
                this.print('', 'output');
                const egg = `
       _,.--.,_
      ,'  ____  '.
     /   /    \\  \\
    |   |  ||  |  |
     \\   \\    /  /
      '.  '||'  ,'
        '-.__.-'
`;
                this.print(egg, 'warning');
                this.print('ğŸ FÃ©licitations! +100 points bonus!', 'success');
            });

            terminal.addCommand('about', function (args) {
                this.print('', 'output');
                this.print('â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—', 'success');
                this.print('â•‘                                               â•‘', 'success');
                this.print('â•‘         NUIT DE L\'INFO 2025                  â•‘', 'success');
                this.print('â•‘         DÃ©fi IUTLCO                           â•‘', 'success');
                this.print('â•‘                                               â•‘', 'success');
                this.print('â•‘   Console Linux interactive avec systÃ¨me      â•‘', 'success');
                this.print('â•‘   de commandes extensibles et personnalisablesâ•‘', 'success');
                this.print('â•‘                                               â•‘', 'success');
                this.print('â•‘   ThÃ¨me: RÃ©tro Gaming / Terminal Linux        â•‘', 'success');
                this.print('â•‘   Version: 1.0                                â•‘', 'success');
                this.print('â•‘                                               â•‘', 'success');
                this.print('â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•', 'success');
                this.print('', 'output');
            });

            terminal.addCommand('fortune', function (args) {
                const fortunes = [
                    'ğŸ”® Votre code compilera du premier coup demain... ou pas.',
                    'ğŸ”® Un bug se cache dans votre code. Cherchez bien!',
                    'ğŸ”® La force du cafÃ© sera avec vous.',
                    'ğŸ”® Vous allez gagner la Nuit de l\'Info!',
                    'ğŸ”® N\'oubliez pas de commit avant minuit.',
                    'ğŸ”® Ctrl+Z sera votre meilleur ami aujourd\'hui.',
                    'ğŸ”® Une pizza arrive dans 30 minutes.',
                    'ğŸ”® Le Stack Overflow est fort en vous.'
                ];
                const random = fortunes[Math.floor(Math.random() * fortunes.length)];
                this.print(random, 'warning');
            });

            terminal.addCommand('cowsay', function (args) {
                const message = args.join(' ') || 'Moo!';
                const cow = `
 ${'-'.repeat(message.length + 2)}
< ${message} >
 ${'-'.repeat(message.length + 2)}
        \\   ^__^
         \\  (oo)\\_______
            (__)\\       )\\/\\
                ||----w |
                ||     ||
`;
                this.print(cow, 'output');
            });

            terminal.addCommand('pulga', function(args) {
                this.print('ğŸ³ï¸ EASTER EGG PULGA ACTIVÃ‰!', 'success');
                this.print('ğŸš€ Le drapeau arrive...', 'warning');

                // CrÃ©er un conteneur qui passe par-dessus tout
                const flagContainer = document.createElement('div');
                flagContainer.id = 'pulga-flag-container';
                const flagWidth = window.innerHeight * 1.8; // Encore plus grand que Pac-Man
                flagContainer.style.cssText = `
                    position: fixed;
                    top: 0;
                    left: -${flagWidth}px;
                    z-index: 999999;
                    pointer-events: none;
                    width: ${flagWidth}px;
                    height: 100vh;
                `;

                // CrÃ©er l'image du drapeau
                const flagImg = document.createElement('img');
                flagImg.src = '/images/drapeau-israel.avif';
                flagImg.style.cssText = `
                    width: 100%;
                    height: 100%;
                    object-fit: cover;
                    box-shadow: 0 0 150px rgba(0, 255, 255, 0.9), 0 0 300px rgba(255, 0, 255, 0.5);
                    filter: brightness(1.2) contrast(1.1);
                `;

                flagContainer.appendChild(flagImg);
                document.body.appendChild(flagContainer);

                // Animation de dÃ©filement de gauche Ã  droite
                let position = -flagWidth;
                const endPosition = window.innerWidth + 100;
                const speed = 8; // Plus rapide pour un effet dramatique

                const animate = () => {
                    if (position < endPosition) {
                        position += speed;
                        flagContainer.style.left = position + 'px';
                        requestAnimationFrame(animate);
                    } else {
                        // Animation terminÃ©e, supprimer le drapeau
                        document.body.removeChild(flagContainer);
                        this.print('', 'output');
                        this.print('âœ¨ PULGA - NumÃ©rique Inclusif, Responsable et Durable âœ¨', 'success');
                        this.print('ğŸŠ Easter Egg trouvÃ©! +1000 points!', 'warning');
                    }
                };

                // Attendre que l'image soit chargÃ©e avant de dÃ©marrer l'animation
                flagImg.onload = () => {
                    animate();
                };

                // GÃ©rer le cas oÃ¹ l'image ne charge pas
                flagImg.onerror = () => {
                    document.body.removeChild(flagContainer);
                    this.print('âŒ Erreur: Impossible de charger le drapeau PULGA', 'error');
                };
            });

            let formActive = false;
            let currentQuestion = null;

            terminal.addCommand('rep', function (args) {
                if (!formActive) {
                    this.print("âš  Aucune question en cours. Tape 'form' pour commencer.");
                    return;
                }

                const rep = (args[0] || "").trim().toUpperCase();

                if (!["A", "B", "C", "D"].includes(rep)) {
                    this.print("âš  RÃ©ponse invalide. Tape : rep A | rep B | rep C | rep D");
                    return;
                }

                const q = currentQuestion;

                if (rep === q.correct) {
                    this.print("ğŸŸ© âœ“ Bonne rÃ©ponse !");
                } else {
                    this.print("ğŸŸ¥ âœ˜ Mauvaise rÃ©ponse !");
                    this.print("â˜‘ La bonne rÃ©ponse Ã©tait : " + q.correct);
                }

                this.print("â“˜ " + q.explanation);
                this.print("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");

                nextQuestion.call(this);
            });

            terminal.addCommand('form', function (args) {
                const questionnaire = {
                    version: "1.1",
                    language: "fr",
                    title: "NumÃ©rique Responsable & NIRD - QCM (40 questions avec explications)",
                    questions: [
                        {
                            id: 1,
                            question: "Que signifie l'acronyme NIRD ?",
                            options: {
                                A: "NumÃ©rique Innovant et Rapide Durable",
                                B: "NumÃ©rique Inclusif, Responsable et Durable",
                                C: "NumÃ©rique International Responsable Digital",
                                D: "Nouveau Informatique Responsable Direct"
                            },
                            correct: "B",
                            explanation: "NIRD signifie NumÃ©rique Inclusif, Responsable et Durable. Cela correspond aux trois valeurs centrales du projet."
                        },
                        {
                            id: 2,
                            question: "Quel est l'objectif principal de la dÃ©marche NIRD ?",
                            options: {
                                A: "Acheter plus d'ordinateurs",
                                B: "RÃ©duire la dÃ©pendance aux Big Tech",
                                C: "Supprimer Internet",
                                D: "Augmenter les abonnements numÃ©riques"
                            },
                            correct: "B",
                            explanation: "Le but de NIRD est de rendre les Ã©tablissements plus autonomes face aux grandes entreprises du numÃ©rique."
                        },
                        {
                            id: 3,
                            question: "Quel systÃ¨me d'exploitation est favorisÃ© par NIRD ?",
                            options: {
                                A: "Windows",
                                B: "macOS",
                                C: "Linux",
                                D: "iOS"
                            },
                            correct: "C",
                            explanation: "Linux est un systÃ¨me libre, gratuit et durable, adaptÃ© aux objectifs du numÃ©rique responsable."
                        },
                        {
                            id: 4,
                            question: "Que signifie Â« obsolescence programmÃ©e Â» ?",
                            options: {
                                A: "Un appareil rÃ©parable facilement",
                                B: "Un appareil prÃ©vu pour durer longtemps",
                                C: "Un appareil conÃ§u pour tomber en panne rapidement",
                                D: "Un appareil open source"
                            },
                            correct: "C",
                            explanation: "Lâ€™obsolescence programmÃ©e consiste Ã  limiter volontairement la durÃ©e de vie dâ€™un appareil."
                        },
                        {
                            id: 5,
                            question: "Pourquoi certaines Ã©coles doivent changer d'ordinateur alors qu'ils fonctionnent encore ?",
                            options: {
                                A: "Ã€ cause des mises Ã  jour systÃ¨me",
                                B: "Ã€ cause des Ã©lÃ¨ves",
                                C: "Ã€ cause du Wi-Fi",
                                D: "Ã€ cause de la mÃ©tÃ©o"
                            },
                            correct: "A",
                            explanation: "Les nouvelles versions de logiciels ne sont parfois plus compatibles avec les anciens ordinateurs."
                        },
                        {
                            id: 6,
                            question: "Le numÃ©rique responsable cherche surtout Ã  :",
                            options: {
                                A: "Consommer plus",
                                B: "Consommer mieux",
                                C: "Consommer plus vite",
                                D: "Supprimer la technologie"
                            },
                            correct: "B",
                            explanation: "Le numÃ©rique responsable vise Ã  rÃ©duire les impacts Ã©cologiques tout en gardant les usages utiles."
                        },
                        {
                            id: 7,
                            question: "Quel est l'un des trois piliers de la dÃ©marche NIRD ?",
                            options: {
                                A: "Performance",
                                B: "Inclusion",
                                C: "RentabilitÃ©",
                                D: "RapiditÃ©"
                            },
                            correct: "B",
                            explanation: "Les trois piliers sont Inclusion, ResponsabilitÃ© et DurabilitÃ©."
                        },
                        {
                            id: 8,
                            question: "Le stockage des donnÃ©es hors de l'Union EuropÃ©enne pose surtout un problÃ¨me de :",
                            options: {
                                A: "Couleur",
                                B: "SÃ©curitÃ© des donnÃ©es",
                                C: "Vitesse de connexion",
                                D: "Design"
                            },
                            correct: "B",
                            explanation: "Les lois hors UE peuvent Ãªtre moins protectrices pour les donnÃ©es personnelles."
                        },
                        {
                            id: 9,
                            question: "Qu'est-ce qu'un logiciel libre ?",
                            options: {
                                A: "Un logiciel toujours gratuit",
                                B: "Un logiciel dont on peut modifier le code",
                                C: "Un logiciel bloquÃ©",
                                D: "Un logiciel sans mise Ã  jour"
                            },
                            correct: "B",
                            explanation: "Un logiciel libre permet dâ€™accÃ©der, modifier et partager son code."
                        },
                        {
                            id: 10,
                            question: "Que signifie le rÃ©emploi du matÃ©riel ?",
                            options: {
                                A: "Jeter les appareils",
                                B: "RÃ©utiliser le matÃ©riel existant",
                                C: "Acheter uniquement du neuf",
                                D: "Stocker sans utiliser"
                            },
                            correct: "B",
                            explanation: "Le rÃ©emploi permet de limiter les dÃ©chets Ã©lectroniques."
                        },

                        {
                            id: 11,
                            question: "Quel acteur peut participer Ã  NIRD ?",
                            options: {
                                A: "Les Ã©lÃ¨ves seulement",
                                B: "Les enseignants seulement",
                                C: "Tous les acteurs Ã©ducatifs",
                                D: "Seulement le ministÃ¨re"
                            },
                            correct: "C",
                            explanation: "Ã‰lÃ¨ves, enseignants, directions, techniciens et collectivitÃ©s peuvent tous contribuer."
                        },
                        {
                            id: 12,
                            question: "Pourquoi utiliser Linux Ã  l'Ã©cole ?",
                            options: {
                                A: "Pour jouer",
                                B: "Pour rÃ©duire les coÃ»ts et prolonger la durÃ©e du matÃ©riel",
                                C: "Pour remplacer Internet",
                                D: "Pour bloquer les utilisateurs"
                            },
                            correct: "B",
                            explanation: "Linux est gratuit et fonctionne mÃªme sur de vieux ordinateurs."
                        },
                        {
                            id: 13,
                            question: "Qu'est-ce qu'un Ã©co-dÃ©lÃ©guÃ© ?",
                            options: {
                                A: "Un informaticien",
                                B: "Un Ã©lÃ¨ve engagÃ© pour l'environnement",
                                C: "Un surveillant",
                                D: "Un dÃ©veloppeur"
                            },
                            correct: "B",
                            explanation: "Les Ã©co-dÃ©lÃ©guÃ©s mÃ¨nent des actions Ã©cologiques dans lâ€™Ã©tablissement."
                        },
                        {
                            id: 14,
                            question: "Le numÃ©rique responsable vise Ã  :",
                            options: {
                                A: "ProtÃ©ger l'environnement",
                                B: "AccÃ©lÃ©rer l'obsolescence",
                                C: "Multiplier les dÃ©chets Ã©lectroniques",
                                D: "Consommer plus d'Ã©nergie"
                            },
                            correct: "A",
                            explanation: "Il cherche Ã  limiter la pollution liÃ©e aux Ã©quipements numÃ©riques."
                        },
                        {
                            id: 15,
                            question: "Le reconditionnement permet de :",
                            options: {
                                A: "DÃ©truire le matÃ©riel",
                                B: "RÃ©parer et remettre en circulation des appareils",
                                C: "Les rendre inutilisables",
                                D: "Les stocker dÃ©finitivement"
                            },
                            correct: "B",
                            explanation: "Le matÃ©riel reconditionnÃ© est rÃ©parÃ© puis rÃ©utilisÃ©."
                        },
                        {
                            id: 16,
                            question: "Les Big Tech sont :",
                            options: {
                                A: "De petites entreprises locales",
                                B: "De grandes entreprises du numÃ©rique",
                                C: "Des associations",
                                D: "Des lycÃ©es"
                            },
                            correct: "B",
                            explanation: "Les Big Tech sont de grandes entreprises mondiales du numÃ©rique."
                        },
                        {
                            id: 17,
                            question: "Quel est un inconvÃ©nient des abonnements numÃ©riques ?",
                            options: {
                                A: "Ils coÃ»tent de l'argent chaque annÃ©e",
                                B: "Ils sont gratuits",
                                C: "Ils fonctionnent sans Internet",
                                D: "Ils ne changent jamais"
                            },
                            correct: "A",
                            explanation: "Les abonnements reprÃ©sentent un coÃ»t rÃ©current pour les Ã©tablissements."
                        },
                        {
                            id: 18,
                            question: "Le numÃ©rique durable cherche Ã  :",
                            options: {
                                A: "RÃ©duire l'impact environnemental",
                                B: "Augmenter les dÃ©chets",
                                C: "Raccourcir la durÃ©e de vie du matÃ©riel",
                                D: "Bloquer les logiciels"
                            },
                            correct: "A",
                            explanation: "Il vise Ã  limiter lâ€™empreinte carbone du numÃ©rique."
                        },
                        {
                            id: 19,
                            question: "Pourquoi privilÃ©gier les ressources libres ?",
                            options: {
                                A: "Pour copier sans rÃ©flÃ©chir",
                                B: "Pour partager lÃ©galement et gratuitement",
                                C: "Pour vendre plus cher",
                                D: "Pour limiter l'accÃ¨s"
                            },
                            correct: "B",
                            explanation: "Les ressources libres peuvent Ãªtre partagÃ©es sans enfreindre la loi."
                        },
                        {
                            id: 20,
                            question: "Qu'est-ce qu'une dÃ©pendance numÃ©rique ?",
                            options: {
                                A: "Une autonomie totale",
                                B: "Une obligation d'utiliser une seule entreprise",
                                C: "Une libertÃ© de choix",
                                D: "Une sÃ©curitÃ© maximale"
                            },
                            correct: "B",
                            explanation: "Cela empÃªche de choisir librement ses outils."
                        },

                        {
                            id: 21,
                            question: "Quel est un avantage du logiciel libre ?",
                            options: {
                                A: "Il est fermÃ©",
                                B: "Il est modifiable",
                                C: "Il est secret",
                                D: "Il est payant obligatoirement"
                            },
                            correct: "B",
                            explanation: "Le code peut Ãªtre adaptÃ© selon les besoins."
                        },
                        {
                            id: 22,
                            question: "Le numÃ©rique inclusif permet :",
                            options: {
                                A: "D'exclure certains Ã©lÃ¨ves",
                                B: "L'accÃ¨s au numÃ©rique pour tous",
                                C: "D'augmenter les inÃ©galitÃ©s",
                                D: "De bloquer l'apprentissage"
                            },
                            correct: "B",
                            explanation: "Il garantit lâ€™Ã©galitÃ© dâ€™accÃ¨s aux outils numÃ©riques."
                        },
                        {
                            id: 23,
                            question: "Le numÃ©rique responsable agit surtout sur :",
                            options: {
                                A: "La publicitÃ©",
                                B: "L'Ã©cologie et l'Ã©thique",
                                C: "Le sport",
                                D: "La mode"
                            },
                            correct: "B",
                            explanation: "Il concerne lâ€™environnement, les donnÃ©es et les usages."
                        },
                        {
                            id: 24,
                            question: "Le matÃ©riel obsolÃ¨te est un problÃ¨me car :",
                            options: {
                                A: "Il produit des dÃ©chets Ã©lectroniques",
                                B: "Il consomme moins",
                                C: "Il est renouvelable rapidement",
                                D: "Il est toujours utile"
                            },
                            correct: "A",
                            explanation: "Les dÃ©chets Ã©lectroniques sont trÃ¨s polluants."
                        },
                        {
                            id: 25,
                            question: "Un Ã©tablissement autonome numÃ©riquement est un Ã©tablissement qui :",
                            options: {
                                A: "DÃ©pend des Big Tech",
                                B: "Utilise des solutions locales et libres",
                                C: "N'a pas d'ordinateurs",
                                D: "Utilise uniquement des logiciels payants"
                            },
                            correct: "B",
                            explanation: "Il choisit ses outils librement."
                        },
                        {
                            id: 26,
                            question: "Le numÃ©rique durable cherche Ã  prolonger :",
                            options: {
                                A: "La durÃ©e de vie du matÃ©riel",
                                B: "Les abonnements",
                                C: "Les dÃ©chets",
                                D: "L'obsolescence"
                            },
                            correct: "A",
                            explanation: "Un matÃ©riel plus longtemps utilisÃ© = moins de pollution."
                        },
                        {
                            id: 27,
                            question: "Le stockage des donnÃ©es en Europe permet :",
                            options: {
                                A: "Une meilleure protection",
                                B: "Une perte de donnÃ©es",
                                C: "Une censure automatique",
                                D: "Plus de publicitÃ©"
                            },
                            correct: "A",
                            explanation: "Les lois europÃ©ennes protÃ¨gent les donnÃ©es personnelles."
                        },
                        {
                            id: 28,
                            question: "Un village numÃ©rique rÃ©sistant symbolise :",
                            options: {
                                A: "La soumission aux Big Tech",
                                B: "La rÃ©sistance et l'autonomie",
                                C: "La dÃ©pendance totale",
                                D: "Le refus de la technologie"
                            },
                            correct: "B",
                            explanation: "Il reprÃ©sente la capacitÃ© Ã  choisir ses outils."
                        },
                        {
                            id: 29,
                            question: "Quel est un bon geste numÃ©rique responsable ?",
                            options: {
                                A: "Changer d'ordinateur chaque annÃ©e",
                                B: "Ã‰teindre ses appareils quand on ne les utilise pas",
                                C: "Laisser tout allumÃ©",
                                D: "TÃ©lÃ©charger sans vÃ©rifier"
                            },
                            correct: "B",
                            explanation: "Cela permet dâ€™Ã©conomiser de lâ€™Ã©nergie."
                        },
                        {
                            id: 30,
                            question: "Le projet NIRD est avant tout :",
                            options: {
                                A: "Un business",
                                B: "Un projet Ã©ducatif engagÃ©",
                                C: "Un jeu vidÃ©o",
                                D: "Une marque commerciale"
                            },
                            correct: "B",
                            explanation: "Il sâ€™agit dâ€™une dÃ©marche pÃ©dagogique et citoyenne."
                        },

                        {
                            id: 31,
                            question: "Quel est un avantage Ã©cologique du logiciel libre ?",
                            options: {
                                A: "Il consomme plus d'Ã©nergie",
                                B: "Il oblige Ã  changer de matÃ©riel",
                                C: "Il prolonge la durÃ©e de vie des ordinateurs",
                                D: "Il augmente les dÃ©chets"
                            },
                            correct: "C",
                            explanation: "Les ordinateurs restent utilisables plus longtemps."
                        },
                        {
                            id: 32,
                            question: "Pourquoi parle-t-on de â€œsobriÃ©tÃ© numÃ©riqueâ€ ?",
                            options: {
                                A: "Pour utiliser plus d'Ã©crans",
                                B: "Pour rÃ©duire l'usage inutile du numÃ©rique",
                                C: "Pour consommer plus de donnÃ©es",
                                D: "Pour accÃ©lÃ©rer Internet"
                            },
                            correct: "B",
                            explanation: "Cela consiste Ã  Ã©viter le gaspillage numÃ©rique."
                        },
                        {
                            id: 33,
                            question: "Le reconditionnement permet surtout de :",
                            options: {
                                A: "Jeter plus vite les appareils",
                                B: "RÃ©parer et revendre Ã  moindre coÃ»t",
                                C: "Bloquer les ordinateurs",
                                D: "Supprimer les systÃ¨mes d'exploitation"
                            },
                            correct: "B",
                            explanation: "On limite ainsi les dÃ©chets et les coÃ»ts."
                        },
                        {
                            id: 34,
                            question: "Quel est l'un des risques de la dÃ©pendance aux Big Tech ?",
                            options: {
                                A: "Trop de libertÃ©",
                                B: "Perte d'autonomie numÃ©rique",
                                C: "Trop peu de mises Ã  jour",
                                D: "Trop de logiciels libres"
                            },
                            correct: "B",
                            explanation: "On ne contrÃ´le plus ses outils ni ses donnÃ©es."
                        },
                        {
                            id: 35,
                            question: "Un numÃ©rique Ã©thique signifie :",
                            options: {
                                A: "Un numÃ©rique sans rÃ¨gles",
                                B: "Un numÃ©rique respectueux des personnes et des donnÃ©es",
                                C: "Un numÃ©rique uniquement payant",
                                D: "Un numÃ©rique rÃ©servÃ© aux experts"
                            },
                            correct: "B",
                            explanation: "Il respecte la vie privÃ©e et les utilisateurs."
                        },
                        {
                            id: 36,
                            question: "Pourquoi Ã©viter le renouvellement systÃ©matique du matÃ©riel ?",
                            options: {
                                A: "Parce qu'il coÃ»te trop cher uniquement",
                                B: "Parce qu'il augmente l'empreinte carbone",
                                C: "Parce qu'il est interdit",
                                D: "Parce qu'il est inutile Ã  l'Ã©cole"
                            },
                            correct: "B",
                            explanation: "Produire du matÃ©riel gÃ©nÃ¨re beaucoup de pollution."
                        },
                        {
                            id: 37,
                            question: "Le partage de ressources numÃ©riques libres permet :",
                            options: {
                                A: "De limiter l'accÃ¨s",
                                B: "De favoriser la collaboration",
                                C: "De vendre plus cher",
                                D: "De restreindre l'Ã©ducation"
                            },
                            correct: "B",
                            explanation: "Le partage facilite le travail collectif."
                        },
                        {
                            id: 38,
                            question: "Quelle action correspond Ã  une dÃ©marche NIRD ?",
                            options: {
                                A: "Acheter du matÃ©riel neuf chaque annÃ©e",
                                B: "Installer Linux sur d'anciens ordinateurs",
                                C: "Multiplier les abonnements",
                                D: "DÃ©pendre d'un seul fournisseur"
                            },
                            correct: "B",
                            explanation: "Cela permet de rÃ©utiliser le matÃ©riel existant."
                        },
                        {
                            id: 39,
                            question: "Un numÃ©rique durable est un numÃ©rique qui :",
                            options: {
                                A: "S'use vite",
                                B: "Dure dans le temps",
                                C: "Devient vite inutilisable",
                                D: "Doit Ãªtre remplacÃ© souvent"
                            },
                            correct: "B",
                            explanation: "La durabilitÃ© vise la longÃ©vitÃ© des Ã©quipements."
                        },
                        {
                            id: 40,
                            question: "Quel est l'objectif principal d'un Ã©tablissement engagÃ© dans NIRD ?",
                            options: {
                                A: "DÃ©penser plus",
                                B: "ÃŠtre autonome, responsable et durable",
                                C: "DÃ©pendre des grandes entreprises",
                                D: "Supprimer le numÃ©rique"
                            },
                            correct: "B",
                            explanation: "Lâ€™objectif est lâ€™autonomie technologique et Ã©cologique."
                        }
                    ]
                };
                let index = 0;
                formActive = true;

                nextQuestion = function () {

                    if (index >= questionnaire.questions.length) {
                        this.print("ğŸ‰ Fin du questionnaire !");
                        formActive = false;
                        return;
                    }

                    currentQuestion = questionnaire.questions[index];
                    const q = currentQuestion;

                    this.print("");
                    this.print("â“ Question " + q.id + " : " + q.question);

                    Object.entries(q.options).forEach(([key, value]) => {
                        this.print("   â–¸ " + key + " : " + value);
                    });

                    this.print("");
                    this.print("ğŸ‘‰ RÃ©ponds avec : rep A | rep B | rep C | rep D");

                    index++;
                };

                this.print("=== QCM NIRD ===");
                this.print("Version : " + questionnaire.version);
                this.print("Langue : " + questionnaire.language);
                this.print("Titre  : " + questionnaire.title);
                this.print("");
                this.print("Tape : rep A | rep B | rep C | rep D");
                this.print("");

                nextQuestion.call(this);
            });

            // Exemple: exÃ©cuter une commande automatiquement au chargement
            // terminal.execute('about');
        });
    </script>
{% endblock %}
